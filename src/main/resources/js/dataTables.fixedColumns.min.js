/*! 1.0.7 metafour-ui Wednesday, November 5th, 2014, 4:02:22 PM */
!function(a){var b=function(b){"use strict";var c=function(a,d){var e=this;if(!this instanceof c)return void alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.");"undefined"==typeof d&&(d={}),b.fn.dataTable.camelToHungarian&&b.fn.dataTable.camelToHungarian(c.defaults,d);var f=b.fn.dataTable.Api?new b.fn.dataTable.Api(a).settings()[0]:a.fnSettings();this.s={dt:f,iTableColumns:f.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[]},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},f._oFixedColumns=this,f._bInitComplete?this._fnConstruct(d):f.oApi._fnCallbackReg(f,"aoInitComplete",function(){e._fnConstruct(d)},"FixedColumns")};return c.prototype={fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(a){delete a._DTTC_iHeight,a.style.height="auto"},fnSetRowHeight:function(a,b){a.style.height=b+"px"},fnGetPosition:function(a){var c,d=this.s.dt.oInstance;if(b(a).parents(".DTFC_Cloned").length){if("tr"===a.nodeName.toLowerCase())return c=b(a).index(),d.fnGetPosition(b("tr",this.s.dt.nTBody)[c]);var e=b(a).index();c=b(a.parentNode).index();var f=d.fnGetPosition(b("tr",this.s.dt.nTBody)[c]);return[f,e,d.oApi._fnVisibleToColumnIndex(this.s.dt,e)]}return d.fnGetPosition(a)},_fnConstruct:function(d){var e=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||this.s.dt.oInstance.fnVersionCheck("1.8.0")!==!0)return void alert("FixedColumns "+c.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");if(""===this.s.dt.oScroll.sX)return void this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");this.s=b.extend(!0,this.s,c.defaults,d);var f=this.s.dt.oClasses;this.dom.grid.dt=b(this.s.dt.nTable).parents("div."+f.sScrollWrapper)[0],this.dom.scroller=b("div."+f.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var g;b(this.dom.scroller).on("mouseover.DTFC",function(){g="main"}).on("scroll.DTFC",function(){"main"===g&&(e.s.iLeftColumns>0&&(e.dom.grid.left.liner.scrollTop=e.dom.scroller.scrollTop),e.s.iRightColumns>0&&(e.dom.grid.right.liner.scrollTop=e.dom.scroller.scrollTop))}),e.s.iLeftColumns>0&&b(e.dom.grid.left.liner).on("mouseover.DTFC",function(){g="left"}).on("scroll.DTFC",function(){"left"===g&&(e.dom.scroller.scrollTop=e.dom.grid.left.liner.scrollTop,e.s.iRightColumns>0&&(e.dom.grid.right.liner.scrollTop=e.dom.grid.left.liner.scrollTop))}).on("wheel.DTFC",function(a){var b=-a.originalEvent.deltaX;e.dom.scroller.scrollLeft-=b}),e.s.iRightColumns>0&&b(e.dom.grid.right.liner).on("mouseover.DTFC",function(){g="right"}).on("scroll.DTFC",function(){"right"===g&&(e.dom.scroller.scrollTop=e.dom.grid.right.liner.scrollTop,e.s.iLeftColumns>0&&(e.dom.grid.left.liner.scrollTop=e.dom.grid.right.liner.scrollTop))}).on("wheel.DTFC",function(a){var b=-a.originalEvent.deltaX;e.dom.scroller.scrollLeft-=b}),b(a).on("resize.DTFC",function(){e._fnGridLayout.call(e)});var h=!0,i=b(this.s.dt.nTable);i.on("draw.dt.DTFC",function(){e._fnDraw.call(e,h),h=!1}).on("column-sizing.dt.DTFC",function(){e._fnColCalc(),e._fnGridLayout(e)}).on("column-visibility.dt.DTFC",function(){e._fnColCalc(),e._fnGridLayout(e),e._fnDraw(!0)}).on("destroy.dt.DTFC",function(){i.off("column-sizing.dt.DTFC destroy.dt.DTFC draw.dt.DTFC"),b(e.dom.scroller).fn("scroll.DTFC mouseover.DTFC"),b(a).off("resize.DTFC"),b(e.dom.grid.left.liner).on("scroll.DTFC wheel.DTFC mouseover.DTFC"),b(e.dom.grid.left.wrapper).remove(),b(e.dom.grid.right.liner).on("scroll.DTFC wheel.DTFC mouseover.DTFC"),b(e.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)},_fnColCalc:function(){var a=this,c=0,d=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],b.each(this.s.dt.aoColumns,function(e,f){var g=b(f.nTh);if(g.filter(":visible").length){var h=g.outerWidth();0===a.s.aiOuterWidths.length&&(h+=parseInt(b(a.s.dt.nTable).css("border-left-width"),10)),a.s.aiOuterWidths.push(h),a.s.aiInnerWidths.push(g.width()),e<a.s.iLeftColumns&&(c+=h),a.s.iTableColumns-a.s.iRightColumns<=e&&(d+=h)}else a.s.aiInnerWidths.push(0),a.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=c,this.s.iRightWidth=d},_fnGridSetup:function(){var a,c=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var d=b('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; left:0;"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],e=d.childNodes[0],f=d.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(d,this.dom.grid.dt),d.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=d,this.s.iLeftColumns>0&&(this.dom.grid.left.wrapper=e,this.dom.grid.left.head=e.childNodes[0],this.dom.grid.left.body=e.childNodes[1],this.dom.grid.left.liner=b("div.DTFC_LeftBodyLiner",d)[0],d.appendChild(e)),this.s.iRightColumns>0&&(this.dom.grid.right.wrapper=f,this.dom.grid.right.head=f.childNodes[0],this.dom.grid.right.body=f.childNodes[1],this.dom.grid.right.liner=b("div.DTFC_RightBodyLiner",d)[0],a=b("div.DTFC_RightHeadBlocker",d)[0],a.style.width=c.bar+"px",a.style.right=-c.bar+"px",this.dom.grid.right.headBlock=a,a=b("div.DTFC_RightFootBlocker",d)[0],a.style.width=c.bar+"px",a.style.right=-c.bar+"px",this.dom.grid.right.footBlock=a,d.appendChild(f)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,this.s.iLeftColumns>0&&(this.dom.grid.left.foot=e.childNodes[2]),this.s.iRightColumns>0&&(this.dom.grid.right.foot=f.childNodes[2]))},_fnGridLayout:function(){var a,c=this.dom.grid,d=b(c.wrapper).width(),e=b(this.s.dt.nTable.parentNode).height(),f=b(this.s.dt.nTable.parentNode.parentNode).height(),g=this._fnDTOverflow(),h=this.s.iLeftWidth,i=this.s.iRightWidth;g.x&&(e-=g.bar),c.wrapper.style.height=f+"px",this.s.iLeftColumns>0&&(c.left.wrapper.style.width=h+"px",c.left.wrapper.style.height="1px",c.left.body.style.height=e+"px",c.left.foot&&(c.left.foot.style.top=(g.x?g.bar:0)+"px"),c.left.liner.style.width=h+g.bar+"px",c.left.liner.style.height=e+"px"),this.s.iRightColumns>0&&(a=d-i,g.y&&(a-=g.bar),c.right.wrapper.style.width=i+"px",c.right.wrapper.style.left=a+"px",c.right.wrapper.style.height="1px",c.right.body.style.height=e+"px",c.right.foot&&(c.right.foot.style.top=(g.x?g.bar:0)+"px"),c.right.liner.style.width=i+g.bar+"px",c.right.liner.style.height=e+"px",c.right.headBlock.style.display=g.y?"block":"none",c.right.footBlock.style.display=g.y?"block":"none")},_fnDTOverflow:function(){var a=this.s.dt.nTable,b=a.parentNode,c={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return a.offsetWidth>b.clientWidth&&(c.x=!0),a.offsetHeight>b.clientHeight&&(c.y=!0),c},_fnDraw:function(a){this._fnGridLayout(),this._fnCloneLeft(a),this._fnCloneRight(a),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),b(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(a){if(!(this.s.iRightColumns<=0)){var b,c=[];for(b=this.s.iTableColumns-this.s.iRightColumns;b<this.s.iTableColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);this._fnClone(this.dom.clone.right,this.dom.grid.right,c,a)}},_fnCloneLeft:function(a){if(!(this.s.iLeftColumns<=0)){var b,c=[];for(b=0;b<this.s.iLeftColumns;b++)this.s.dt.aoColumns[b].bVisible&&c.push(b);this._fnClone(this.dom.clone.left,this.dom.grid.left,c,a)}},_fnCopyLayout:function(a,c){for(var d=[],e=[],f=[],g=0,h=a.length;h>g;g++){var i=[];i.nTr=b(a[g].nTr).clone(!0,!0)[0];for(var j=0,k=this.s.iTableColumns;k>j;j++)if(-1!==b.inArray(j,c)){var l=b.inArray(a[g][j].cell,f);if(-1===l){var m=b(a[g][j].cell).clone(!0,!0)[0];e.push(m),f.push(a[g][j].cell),i.push({cell:m,unique:a[g][j].unique})}else i.push({cell:e[l],unique:a[g][j].unique})}d.push(i)}return d},_fnClone:function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p=this;if(e){for(null!==a.header&&a.header.parentNode.removeChild(a.header),a.header=b(this.dom.header).clone(!0,!0)[0],a.header.className+=" DTFC_Cloned",a.header.style.width="100%",c.head.appendChild(a.header),m=this._fnCopyLayout(this.s.dt.aoHeader,d),n=b(">thead",a.header),n.empty(),f=0,g=m.length;g>f;f++)n[0].appendChild(m[f].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,m,!0)}else for(m=this._fnCopyLayout(this.s.dt.aoHeader,d),o=[],this.s.dt.oApi._fnDetectHeader(o,b(">thead",a.header)[0]),f=0,g=m.length;g>f;f++)for(h=0,i=m[f].length;i>h;h++)o[f][h].cell.className=m[f][h].cell.className,b("span.DataTables_sort_icon",o[f][h].cell).each(function(){this.className=b("span.DataTables_sort_icon",m[f][h].cell)[0].className});this._fnEqualiseHeights("thead",this.dom.header,a.header),"auto"==this.s.sHeightMatch&&b(">tbody>tr",p.dom.body).css("height","auto"),null!==a.body&&(a.body.parentNode.removeChild(a.body),a.body=null),a.body=b(this.dom.body).clone(!0)[0],a.body.className+=" DTFC_Cloned",a.body.style.paddingBottom=this.s.dt.oScroll.iBarWidth+"px",a.body.style.marginBottom=2*this.s.dt.oScroll.iBarWidth+"px",null!==a.body.getAttribute("id")&&a.body.removeAttribute("id"),b(">thead>tr",a.body).empty(),b(">tfoot",a.body).remove();var q=b("tbody",a.body)[0];if(b(q).empty(),this.s.dt.aiDisplay.length>0){var r=b(">thead>tr",a.body)[0];for(l=0;l<d.length;l++){j=d[l],k=b(this.s.dt.aoColumns[j].nTh).clone(!0)[0],k.innerHTML="";var s=k.style;s.paddingTop="0",s.paddingBottom="0",s.borderTopWidth="0",s.borderBottomWidth="0",s.height=0,s.width=p.s.aiInnerWidths[j]+"px",r.appendChild(k)}b(">tbody>tr",p.dom.body).each(function(a){var c=this.cloneNode(!1);c.removeAttribute("id");var e=p.s.dt.oFeatures.bServerSide===!1?p.s.dt.aiDisplay[p.s.dt._iDisplayStart+a]:a;for(l=0;l<d.length;l++){var f=p.s.dt.aoData[e].anCells||p.s.dt.oApi._fnGetTdNodes(p.s.dt,e);j=d[l],f.length>0&&(k=b(f[j]).clone(!0,!0)[0],c.appendChild(k))}q.appendChild(c)})}else b(">tbody>tr",p.dom.body).each(function(){k=this.cloneNode(!0),k.className+=" DTFC_NoData",b("td",k).html(""),q.appendChild(k)});if(a.body.style.width="100%",a.body.style.margin="0",a.body.style.padding="0",e&&"undefined"!=typeof this.s.dt.oScroller&&c.liner.appendChild(this.s.dt.oScroller.dom.force.cloneNode(!0)),c.liner.appendChild(a.body),this._fnEqualiseHeights("tbody",p.dom.body,a.body),null!==this.s.dt.nTFoot){if(e){null!==a.footer&&a.footer.parentNode.removeChild(a.footer),a.footer=b(this.dom.footer).clone(!0,!0)[0],a.footer.className+=" DTFC_Cloned",a.footer.style.width="100%",c.foot.appendChild(a.footer),m=this._fnCopyLayout(this.s.dt.aoFooter,d);var t=b(">tfoot",a.footer);for(t.empty(),f=0,g=m.length;g>f;f++)t[0].appendChild(m[f].nTr);this.s.dt.oApi._fnDrawHead(this.s.dt,m,!0)}else{m=this._fnCopyLayout(this.s.dt.aoFooter,d);var u=[];for(this.s.dt.oApi._fnDetectHeader(u,b(">tfoot",a.footer)[0]),f=0,g=m.length;g>f;f++)for(h=0,i=m[f].length;i>h;h++)u[f][h].cell.className=m[f][h].cell.className}this._fnEqualiseHeights("tfoot",this.dom.footer,a.footer)}var v=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,b(">thead",a.header)[0]);b(v).each(function(a){j=d[a],this.style.width=p.s.aiInnerWidths[j]+"px"}),null!==p.s.dt.nTFoot&&(v=this.s.dt.oApi._fnGetUniqueThs(this.s.dt,b(">tfoot",a.footer)[0]),b(v).each(function(a){j=d[a],this.style.width=p.s.aiInnerWidths[j]+"px"}))},_fnGetTrNodes:function(a){for(var b=[],c=0,d=a.childNodes.length;d>c;c++)"TR"==a.childNodes[c].nodeName.toUpperCase()&&b.push(a.childNodes[c]);return b},_fnEqualiseHeights:function(a,c,d){if("none"!=this.s.sHeightMatch||"thead"===a||"tfoot"===a){var e,f,g,h,i,j=c.getElementsByTagName(a)[0],k=d.getElementsByTagName(a)[0],l=b(">"+a+">tr:eq(0)",c).children(":first"),m=(l.outerHeight()-l.height(),this._fnGetTrNodes(j)),n=this._fnGetTrNodes(k),o=[];for(e=0,f=n.length;f>e;e++)h=m[e].offsetHeight,i=n[e].offsetHeight,g=i>h?i:h,"semiauto"==this.s.sHeightMatch&&(m[e]._DTTC_iHeight=g),o.push(g);for(e=0,f=n.length;f>e;e++)n[e].style.height=o[e]+"px",m[e].style.height=o[e]+"px"}}},c.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},c.version="3.0.0",b.fn.dataTable.FixedColumns=c,b.fn.DataTable.FixedColumns=c,c};"function"==typeof define&&define.amd?define("datatables-fixedcolumns",["jquery","datatables"],b):jQuery&&!jQuery.fn.dataTable.FixedColumns&&b(jQuery,jQuery.fn.dataTable)}(window,document);